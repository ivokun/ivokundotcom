import{c as j,d as x,t as r,i as t,b as n,F as H,S as w,e as B,a as y,f as L}from"./index-hslFEwih.js";import{M as z}from"./Modal-XYMlKrKX.js";import{A as h}from"./components-BrgC8wcb.js";var E=r('<svg class="w-4 h-4 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4">'),F=r('<div class=table-container><table class=table><thead><tr><th>Name</th><th>Slug</th><th>Created</th><th class=w-24>Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">'),N=r('<div class="p-12 text-center text-gray-500"><svg class="mx-auto h-12 w-12 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg><p class=mt-2>No categories yet'),R=r("<p class=text-gray-700>Are you sure you want to delete <strong></strong>? This action cannot be undone."),V=r('<div class=p-8><div class="page-header flex justify-between items-center"><div><h1 class=page-title>Categories</h1><p class=page-subtitle>Manage your content categories</p></div></div><div class=card>'),O=r('<div class="p-8 text-center"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto">'),T=r('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z">'),U=r('<tr><td class=font-medium></td><td class=text-gray-500></td><td class=text-gray-500></td><td><div class="flex items-center gap-2"><button class="text-red-600 hover:text-red-800"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),q=r('<button class="btn btn-secondary sm:flex-1">Cancel'),G=r('<button class="btn btn-danger sm:flex-1">');function P(){const[c,{refetch:k}]=j(async()=>(await y.categories.list()).data),[d,o]=x(null),[g,m]=x(!1);async function C(){const l=d();if(l){m(!0);try{await y.categories.delete(l.id),o(null),k()}catch(s){console.error("Delete failed:",s)}finally{m(!1)}}}function S(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}return(()=>{var l=V(),s=l.firstChild;s.firstChild;var D=s.nextSibling;return t(s,n(h,{href:"/categories/new",class:"btn btn-primary",get children(){return[E(),"Add Category"]}}),null),t(D,n(w,{get when(){return!c.loading},get fallback(){return O()},get children(){return[(()=>{var e=F(),i=e.firstChild,u=i.firstChild,M=u.nextSibling;return t(M,n(H,{get each(){return c()},children:a=>(()=>{var p=U(),f=p.firstChild,v=f.nextSibling,$=v.nextSibling,A=$.nextSibling,b=A.firstChild,_=b.firstChild;return t(f,()=>a.name),t(v,()=>a.slug),t($,()=>S(a.createdAt)),t(b,n(h,{get href(){return`/categories/${a.id}`},class:"text-primary-600 hover:text-primary-800",get children(){return T()}}),_),_.$$click=()=>o({id:a.id,name:a.name}),p})()})),e})(),n(w,{get when(){return c()?.length===0},get children(){var e=N(),i=e.firstChild;return i.nextSibling,t(e,n(h,{href:"/categories/new",class:"mt-4 inline-block btn btn-primary btn-sm",children:"Create your first category"}),null),e}})]}})),t(l,n(z,{get isOpen(){return!!d()},onClose:()=>o(null),title:"Delete Category",get footer(){return[(()=>{var e=q();return e.$$click=()=>o(null),e})(),(()=>{var e=G();return e.$$click=C,t(e,()=>g()?"Deleting...":"Delete"),B(()=>e.disabled=g()),e})()]},get children(){var e=R(),i=e.firstChild,u=i.nextSibling;return t(u,()=>d()?.name),e}}),null),l})()}L(["click"]);export{P as default};
